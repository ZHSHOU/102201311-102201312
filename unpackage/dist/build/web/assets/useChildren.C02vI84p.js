import{E as n,aO as e,c as r,h as i,B as s,J as o,H as t}from"./index-BKu2siHj.js";function c(o){const t=n(o,null);if(t){const n=s(),{link:i,unlink:o,internalChildren:c}=t;i(n),e((()=>o(n)));return{parent:t,index:r((()=>c.indexOf(n)))}}return{parent:null,index:i(-1)}}const l=(n,e)=>{const r=n.indexOf(e);return-1===r?n.findIndex((n=>void 0!==e.key&&null!==e.key&&n.type===e.type&&n.key===e.key)):r};function u(n,e,r){const i=n&&n.subTree&&n.subTree.children?function(n){const e=[],r=n=>{Array.isArray(n)&&n.forEach((n=>{var i,s;(s=n)&&!0===s.__v_isVNode&&(e.push(n),(null==(i=n.component)?void 0:i.subTree)&&(e.push(n.component.subTree),r(n.component.subTree.children)),n.children&&r(n.children))}))};return r(n),e}(n.subTree.children):[];r.sort(((n,e)=>l(i,n.vnode)-l(i,e.vnode)));const s=r.map((n=>n.proxy));e.sort(((n,e)=>s.indexOf(n)-s.indexOf(e)))}function d(n){const e=o([]),r=o([]),i=s();return{children:e,linkChildren:s=>{t(n,Object.assign({link:n=>{n.proxy&&(r.push(n),e.push(n.proxy),u(i,e,r))},unlink:n=>{const i=r.indexOf(n);e.splice(i,1),r.splice(i,1)},children:e,internalChildren:r},s))}}}export{d as a,c as u};
