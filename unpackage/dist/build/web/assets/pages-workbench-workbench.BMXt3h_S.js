import{d as e,h as t,c as s,A as o,C as a,j as r,o as i,a as n,w as l,e as u,r as c,m as d,b as p,ar as m,f as g,t as b,F as f,n as h,y as x,ac as k,W as v,N as _,i as w,l as $,p as y,u as I,s as C,q as S}from"./index-CzFVNye6.js";import{_ as j}from"./wd-icon.C3a6lim4.js";import{r as T,d as L}from"./uni-app.es.xDvG45QC.js";import{_ as q}from"./wd-badge.BiqOnRM7.js";import{u as z,a as N}from"./useChildren.BEcQKJfk.js";import{b as B,a as P,m as D,i as A,j as E}from"./props.Cxz2570m.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{a as G,b as H,s as V,h as K}from"./index.CTSRJkC8.js";import"./config.defalut.DCXQerkV.js";const O=Symbol("wd-grid"),R={...B,clickable:P(!1),square:P(!1),column:Number,border:P(!1),bgColor:D(""),gutter:Number},W=F(e({name:"wd-grid-item",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...B,customText:D(""),customIcon:D(""),icon:D(""),iconSize:D("26px"),text:String,url:String,linkType:D("navigateTo"),useSlot:P(!1),useIconSlot:P(!1),useTextSlot:P(!1),isDot:Boolean,type:String,value:Number,max:Number,badgeProps:Object},emits:["itemclick"],setup(e,{expose:$,emit:y}){const I=e,C=t(""),S=t(""),L=t(""),N=t(0),B=t(!1),P=t(!0),{parent:D}=z(O),E=s((()=>A(D)&&A(D.children)?D.children.length:0)),F=y;function G(){if(!D)return;const e=D.children,t=D.props.column?100/D.props.column+"%":100/e.length+"%",s=D.props.gutter?`padding:${D.props.gutter}px ${D.props.gutter}px 0 0; background-color: transparent;`:"",o=D.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${t}`:"";S.value=D.props.gutter&&D.props.square?`right: ${D.props.gutter}px; bottom:${D.props.gutter}px;height: auto; background-color: ${D.props.bgColor}`:`background-color: ${D.props.bgColor}`,P.value=Boolean(D.props.border),B.value=Boolean(D.props.square),N.value=Number(D.props.gutter),C.value=`width: ${t}; ${o||s}`}function H(){if(D&&!D.props.clickable)return;const{url:e,linkType:t}=I;if(F("itemclick"),e)switch(t){case"navigateTo":_({url:e});break;case"reLaunch":v({url:e});break;case"redirectTo":k({url:e});break;case"switchTab":x({url:e});break;default:console.error(`[wot-design] warning(wd-grid-item): linkType can not be ${t}`)}}return o((()=>E.value),(()=>{if(!D)return;const e=D.props.column?100/D.props.column+"%":100/(E.value||1)+"%",t=D.props.gutter?`padding:${D.props.gutter}px ${D.props.gutter}px 0 0; background-color: transparent;`:"",s=D.props.square?`background-color:transparent; padding-bottom: 0; padding-top:${e}`:"";C.value=`width: ${e}; ${s||t}`}),{deep:!0,immediate:!0}),a((()=>{G()})),$({setiIemClass:function(e){L.value=e},itemClass:L,init:G}),(e,t)=>{const s=T(r("wd-icon"),j),o=T(r("wd-badge"),q),a=w;return i(),n(a,{class:h(`wd-grid-item ${P.value&&!N.value?L.value:""} ${e.customClass}`),onClick:H,style:p(`${C.value};${e.customStyle}`)},{default:l((()=>[u(a,{class:h(`wd-grid-item__content ${B.value?"is-square":""} ${P.value&&N.value>0?"is-round":""}`),style:p(S.value)},{default:l((()=>[e.useSlot?c(e.$slots,"default",{key:0},void 0,!0):(i(),d(f,{key:1},[u(a,{style:p("width:"+e.iconSize+"; height: "+e.iconSize),class:"wd-grid-item__wrapper"},{default:l((()=>[u(o,m({"custom-class":"badge","is-dot":e.isDot,modelValue:e.value,max:e.max,type:e.type},e.badgeProps),{default:l((()=>[e.useIconSlot?c(e.$slots,"icon",{key:0},void 0,!0):(i(),n(s,{key:1,name:e.icon,size:e.iconSize,"custom-class":e.customIcon},null,8,["name","size","custom-class"]))])),_:3},16,["is-dot","modelValue","max","type"])])),_:3},8,["style"]),e.useTextSlot?c(e.$slots,"text",{key:0},void 0,!0):(i(),n(a,{key:1,class:"wd-grid-item__text custom-text"},{default:l((()=>[g(b(e.text),1)])),_:1}))],64))])),_:3},8,["class","style"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-ac944929"]]),J=F(e({name:"wd-grid",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:R,setup(e){const t=()=>new Promise((e=>setTimeout(e,20))),a=e,{linkChildren:r,children:u}=N(O);r({props:a}),o((()=>a.column),((e,t)=>{e!==t&&((!e||e<=0)&&console.error("The number of columns attribute value is invalid. The attribute must be greater than 0 and it is not recommended to use a larger value attribute."),t&&g())}),{deep:!0,immediate:!0}),o((()=>a.border),(e=>{e&&Promise.resolve().then(t).then((()=>{g()}))}),{deep:!0,immediate:!0}),o((()=>u),(()=>{m()}),{deep:!0});const d=s((()=>`${a.gutter?"padding-left:"+a.gutter+"px;padding-bottom:"+a.gutter+"px;":""}${a.customStyle}`)),m=E((()=>{g()}),50);function g(){u&&u.forEach(((e,t)=>{if(a.border){const{column:s}=a;if(s){const o=u.length-1===t||(t+1)%s==0,a=t+1<=s;a&&e.$.exposed.setiIemClass("is-first"),o&&e.$.exposed.setiIemClass("is-right"),!a&&e.$.exposed.setiIemClass("is-border")}else e.$.exposed.setiIemClass("is-first");u.length-1===t&&e.$.exposed.setiIemClass(e.$.exposed.itemClass.value+" is-last")}e.$.exposed.init()}))}return(e,t)=>{const s=w;return i(),n(s,{class:h(`wd-grid ${e.customClass}`),style:p(d.value)},{default:l((()=>[c(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-1fddf60c"]]),M=F(e({__name:"workbench-item",props:{menuIcon:{},title:{},gridList:{}},setup(e){const t=G();return(e,s)=>{const o=T(r("wd-icon"),j),a=w,c=S,p=T(r("wd-grid-item"),W),m=T(r("wd-grid"),J);return i(),n(a,{class:"workbench-content"},{default:l((()=>[u(a,{class:"workbench-title"},{default:l((()=>[e.menuIcon?(i(),n(o,{key:0,name:e.menuIcon,size:"17px"},null,8,["name"])):$("",!0),g(" "+b(e.title),1)])),_:1}),u(m,{column:4},{default:l((()=>[(i(!0),d(f,null,y(e.gridList,(e=>(i(),n(a,{key:e.text+I(t),onClick:t=>(e=>{if(H())return e.path?void _({url:`/subpackages/sub_workbench/${e.path}/${e.path}?title=`+e.text}):C({title:"开发中...",icon:"none"})})(e)},{default:l((()=>[u(p,{text:e.text,"use-slot":""},{default:l((()=>[e.icon?(i(),n(c,{key:0,class:"workbench-icon",src:"../../static/image/workbench/"+e.icon,mode:"aspectFill"},null,8,["src"])):$("",!0),u(a,null,{default:l((()=>[g(b(e.text),1)])),_:2},1024)])),_:2},1032,["text"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-99870b61"]]),Q=F(e({__name:"workbench",setup(e){const t={title:"通用",menuIcon:"app",gridList:[{icon:"general-xuqiu.png",text:"需求采集",path:"feed-back"},{icon:"general-yijian.png",text:"意见反馈",path:"feed-back"}]},s={title:"管理员",menuIcon:"laptop",gridList:[{icon:"",text:"待处理留言",path:"pend-message"},{icon:"",text:"发布版本",path:"renew-version"}]};return L((()=>{V.set("currentRoute","workbench")})),(e,o)=>{const a=T(r("workbench-item"),M),c=w;return i(),n(c,{class:"content"},{default:l((()=>[u(c,{class:"workbench-model"},{default:l((()=>[u(a,{title:t.title,menuIcon:t.menuIcon,gridList:t.gridList},null,8,["title","menuIcon","gridList"]),I(K)()?(i(),n(a,{key:0,title:s.title,menuIcon:s.menuIcon,gridList:s.gridList},null,8,["title","menuIcon","gridList"])):$("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-44ea9fd7"]]);export{Q as default};
